{% extends "registrationbase.html" %}
{% load staticfiles %}

{% block content %}

<div class="container-fluid">
    <div class="col-sm-12 col-md-8 offset-md-2">
        <div>
            <h1>Ansökan om medlemskap</h1>
            <h3>i Teknologföreningen</h3>
        </div>

        <div>
            <form id="registration-form" action="/submit/" autocomplete="off" method="post">
                {% csrf_token %}

                <!-- Member name information -->
                <div id="names" class="row">
                    <div class="form-group col-md-4 required">
                        {% if DEBUG %}{{ form.surname.errors }}{% endif %}
                        <label 
                            for="{{ form.surname.id_for_label }}"
                            class="{% if form.surname.errors %}is-invalid{% endif %}">
                            {{ form.surname.label }}
                        </label>
                        {{ form.surname }}
                    </div>
                    <div class="form-group col-md-4 required">
                        {% if DEBUG %}{{ form.given_names.errors }}{% endif %}
                        <label 
                            for="{{ form.given_names.id_for_label }}"
                            class="{% if form.given_names.errors %}is-invalid{% endif %}">
                            {{ form.given_names.label }}
                        </label>
                        {{ form.given_names }}
                    </diV>
                    <div class="form-group col-md-4">
                        {% if DEBUG %}{{ form.preferred_name.errors }}{% endif %}
                        <label 
                            for="{{ form.preferred_name.id_for_label }}"
                            class="{% if form.preferred_name.errors %}is-invalid{% endif %}">
                            {{ form.preferred_name.label }}
                        </label>
                        {{ form.preferred_name }}
                    </div>
                </div>

                <!-- Member address information -->
                <div id="address" class="row">
                    <div class="form-group col-md-6 required">
                        {% if DEBUG %}{{ form.street_address.errors }}{% endif %}
                        <label 
                            for="{{ form.street_address.id_for_label }}"
                            class="{% if form.street_address.errors %}is-invalid{% endif %}">
                            {{ form.street_address.label }}
                        </label>
                        {{ form.street_address }}
                    </div>
                    <div class="form-group col-md-3 required">
                        {% if DEBUG %}{{ form.postal_code.errors }}{% endif %}
                        <label 
                            for="{{ form.postal_code.id_for_label }}"
                            class="{% if form.postal_code.errors %}is-invalid{% endif %}">
                            {{ form.postal_code.label }}
                        </label>
                        {{ form.postal_code }}
                    </div>
                    <div class="form-group col-md-3 required">
                        {% if DEBUG %}{{ form.city.errors }}{% endif %}
                        <label 
                            for="{{ form.city.id_for_label }}"
                            class="{% if form.city.errors %}is-invalid{% endif %}">
                            {{ form.city.label }}
                        </label>
                        {{ form.city }}
                    </div>
                </div>

                <!-- Member contact information -->
                <div id="contact" class="row">
                    <div class="form-group col-md-6 required">
                        {% if DEBUG %}{{ form.phone.errors }}{% endif %}
                        <label 
                            for="{{ form.phone.id_for_label }}"
                            class="{% if form.phone.errors %}is-invalid{% endif %}">
                            {{ form.phone.label }}
                        </label>
                        {{ form.phone }}
                    </div>
                    <div class="form-group col-md-6 required">
                        {% if DEBUG %}{{ form.email.errors }}{% endif %}
                        <label 
                            for="{{ form.email.id_for_label }}"
                            class="{% if form.email.errors %}is-invalid{% endif %}">
                            {{ form.email.label }}
                        </label>
                        {{ form.email }}
                    </div>
                </div>

                <!-- Field of study -->
                <div id="programme">
                    <div class="form-group required">
                        {% if DEBUG %}{{ form.degree_programme_options.errors }}{% endif %}
                        <label
                            for="{{ form.degree_programme_options.id_for_label }}"
                            class="{% if form.degree_programme_options.errors %}is-invalid{% endif %}">
                            {{ form.degree_programme_options.label }}
                        </label>
                        {{ form.degree_programme_options }}
                    </diV>

                    <div id="unknown_degree" class="form-group required" style="display: none;">
                        {% if DEBUG %}{{ form.degree_programme.errors }}{% endif %}
                        <label
                            for="{{ form.degree_programme.id_for_label }}"
                            class="{% if form.degree_programme.errors %}is-invalid{% endif %}">
                            {{ form.degree_programme.label }}
                        </label>
                        {{ form.degree_programme }}
                    </div>
                </div>

                <!-- Member motivation -->
                <div id="motivation">
                    <div class="form-group required">
                        {% if DEBUG %}{{ form.motivation.errors }}{% endif %}
                        <label 
                            for="{{ form.motivation.id_for_label }}"
                            class="{% if form.motivation.errors %}is-invalid{% endif %}">
                            {{ form.motivation.label }}
                        </label>
                        {{ form.motivation }}
                    </div>
                </div>

                <!-- FIXME: looks horrible on some window sizes -->
                <!-- FIXME: render programmatically -->
                <!-- Mother tongue -->
                <!--div id="mother-tongue" class="row">
                    <div class="form-group col-md-4 required">
                        <label><strong>Modersmål:</strong></label>
                    </div>

                    <div class="col-md-8 row">
                        <label class="radio-inline col-md-2">
                            <input type="radio" name="language">
                            Svenska
                        </label>
                        <label class="radio-inline col-md-2">
                            <input type="radio" name="language">
                            Finska
                        </label>
                        <div class="row col-md-8">
                            <label for="other-language" class="col-md-2">Annat:</label>
                            <input type="text" class="form-control col-md-10" id="other-language" aria-describedby="other-language-help">
                            <small id="other-language-help" class="form-text text-muted"></small>
                        </div>
                    </div>
                </div-->

                <!-- Consents -->
                <div id="consents">
                    <div class="form-check">
                        {% if DEBUG %}{{ form.subscribed_to_modulen.errors }}{% endif %}
                        {{ form.subscribed_to_modulen }}
                        <label 
                            for="{{ form.subscribed_to_modulen.id_for_label }}"
                            class="{% if form.subscribed_to_modulen.errors %}is-invalid{% endif %}">
                            {{ form.subscribed_to_modulen.label }}
                        </label>
                    </div>
                    <div class="form-check">
                        {% if DEBUG %}{{ form.allow_publish_info.errors }}{% endif %}
                        {{ form.allow_publish_info }}
                        <label
                            for="{{ form.allow_publish_info.id_for_label }}"
                            class="{% if form.allow_publish_info.errors %}is-invalid{% endif %}">
                            {{ form.allow_publish_info.label }}
                        </label>
                    </div>
                </div>

                {# TODO: add Google Captcha #}
                <input type="submit" class="btn" value="Skicka">
            </form>
        </div>
    </div>

</div>

{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="{% static "js/registration.js" %}"></script>
{% endblock %}
