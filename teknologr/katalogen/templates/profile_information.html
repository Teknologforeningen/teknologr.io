
<div
  id="member-information"
  class="col-12 col-lg-7"
  hx-target="#member-information"
  hx-swap="outerHTML show:bottom transition:true"
>
  <table class="table table-striped table-borderless">
    <tbody>
      <tr>
        <th>Födelseår</th>
        <td class="text-right">
          {{ person.birth_date.year }}
        </td>
      </tr>
      <tr>
        <th>Studietid</th>
        <td class="text-right">
          {{ person.studytime_text }}
        </td>
      </tr>
      <tr>
        <th>
          Studieprogram
          {{ form.degree_programme.errors }}
        </th>
        <td class="text-right">
          {% firstof form.degree_programme person.degree_programme %}
        </td>
      </tr>
      <tr>
        <th>Ordinarie medlem</th>
        <td class="text-right">
          {{ person.omembertime_text }}
        </td>
      </tr>
      <tr>
        <th>Ständig äldre medlem</th>
        <td class="text-right">
          {{ person.smembertime_text }}
        </td>
      </tr>
    </tbody>
  </table>

  {% if show_all %}
  <h5>Kontaktinformation</h5>
  <table class="table table-striped table-borderless">
    <tbody>
      <tr>
        <th>
          Fullständigt namn
        </th>
        <td class="text-right">
          {% firstof person.full_name %}
        </td>
      </tr>
      <tr>
        <th>
          Telefonnummer
          {{ form.phone.errors }}
        </th>
        <td class="text-right">
          {% firstof form.phone person.phone %}
        </td>
      </tr>
      <tr>
        <th>
          E-postadress
          {{ form.email.errors }}
        </th>
        <td class="text-right">
          {% firstof form.email person.email %}
        </td>
      </tr>
      <tr>
        <th>
          Hemadress
          {{ form.street_address.errors }}
          {{ form.postal_code.errors }}
          {{ form.city.errors }}
          {{ form.country.errors }}
        </th>
        {% if form %}
        <td class="text-left">
          Gatuadress {% firstof form.street_address person.street_address %}
          Postnummer {% firstof form.postal_code person.postal_code %}
          Postanstalt {% firstof form.city person.city %}
          Land {% firstof form.country person.country %}
        </td>
        {% else %}
        <td class="text-right">
          {{ person.full_address }}
        </td>
        {% endif %}
      </tr>
    </tbody>
  </table>
  {% endif %}

  {% if own_profile %}
  <h5>Personliga inställningar</h5>
  <table class="table table-striped table-borderless">
    <tbody>
      <tr>
        <th>
          Tilltalsnamn
          {{ form.preferred_name.errors }}
        </th>
        <td class="text-right">
          {% firstof form.preferred_name person.preferred_name %}
        </td>
      </tr>
      <tr>
        <th>
          Utexamineringsår
          {{ form.graduated.errors }}
          {{ form.graduated_year.errors }}
        </th>
        <td class="text-right">
          {% firstof form.graduated_year person.graduated_year %}
        </td>
      </tr>
      <tr>
        <th>
          Prenumerera på Modulen
          {{ form.subscribed_to_modulen.errors }}
        </th>
        <td class="text-right">
          {% firstof form.subscribed_to_modulen person.subscribed_to_modulen_text %}
        </td>
      </tr>
      <tr>
        <th>
          Prenumerera på Studentbladet
          {{ form.allow_studentbladet.errors }}
        </th>
        <td class="text-right">
          {% firstof form.allow_studentbladet person.allow_studentbladet_text %}
        </td>
      </tr>
      <tr>
        <th>
          Visa kontaktinformation
          {{ form.allow_publish_info.errors }}
        </th>
        <td class="text-right">
          {% firstof form.allow_publish_info person.allow_publish_info_text %}
        </td>
      </tr>
    </tbody>
  </table>

  <h5>Övrig privat information</h5>
  <table class="table table-striped table-borderless">
    <tbody>
      <tr>
        <th>
          Födelsedatum
          {{ form.birth_date.errors }}
        </th>
        <td class="text-right">
          {% firstof form.birth_date person.birth_date %}
        </td>
      </tr>
      <tr>
        <th>
          Studienummer
          {{ form.student_id.errors }}
        </th>
        <td class="text-right">
          {% firstof form.student_id person.student_id %}
        </td>
      </tr>
      <tr>
        <th>Användarnamn</th>
        <td class="text-right">
          <span class="monospace">{{ person.username|default:'' }}</span>
        </td>
      </tr>
      <tr>
        <th>BILL-konto</th>
        <td class="text-right">
          <span class="monospace">{{ person.bill_code|default:'' }}</span>
        </td>
      </tr>
    </tbody>
  </table>
  {% endif %}

  {% if form %}
  <button
    class="btn btn-success"
    hx-post={% url "katalogen:profile_edit" person.id %}
    hx-include="#member-information"
  >Spara</button>
  <button
    class="btn btn-primary"
    hx-get={% url "katalogen:profile_info" person.id %}
  >Ångra</button>
  {% elif own_profile %}
  <button
    class="btn btn-primary"
    hx-get={% url "katalogen:profile_edit" person.id %}
  >Editera</button>
  {% endif %}

</div>
